# Koristimo Node 20 image sa Playwright dependencies
FROM mcr.microsoft.com/playwright:focal

# Postavi radni direktorijum
WORKDIR /app

# Kopiraj package.json i package-lock.json
COPY package*.json ./

# Instaliraj dependencies
RUN npm install

# Kopiraj ostatak projekta
COPY . .

# Expose port (Fly.io koristi 8080 default, ali mo≈æe biti i PORT env)
ENV PORT=5000
EXPOSE 5000

# Pokreni server
CMD ["node", "server.js"]
